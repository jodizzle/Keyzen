#!/usr/bin/python2.7
# -*- coding: utf-8 -*-1
from __future__ import division
import sys
import random
import numpy
import math
import time
import itertools
from collections import Counter
start_time = time.time()
import collections#need to correct


theInput = '''Alice was beginning to get very tired of sitting by her sister on the bank, and of having nothing to do: once or twice she had peeped into the book her sister was reading, but it had no pictures or conversations in it, 'and what is the use of a book,' thought Alice 'without pictures or conversations?'
So she was considering in her own mind (as well as she could, for the hot day made her feel very sleepy and stupid), whether the pleasure of making a daisy-chain would be worth the trouble of getting up and picking the daisies, when suddenly a White Rabbit with pink eyes ran close by her.
There was nothing so very remarkable in that; nor did Alice think it so very much out of the way to hear the Rabbit say to itself, 'Oh dear! Oh dear! I shall be late!' (when she thought it over afterwards, it occurred to her that she ought to have wondered at this, but at the time it all seemed quite natural); but when the Rabbit actually took a watch out of its waistcoat-pocket, and looked at it, and then hurried on, Alice started to her feet, for it flashed across her mind that she had never before seen a rabbit with either a waistcoat-pocket, or a watch to take out of it, and burning with curiosity, she ran across the field after it, and fortunately was just in time to see it pop down a large rabbit-hole under the hedge.
In another moment down went Alice after it, never once considering how in the world she was to get out again.
The rabbit-hole went straight on like a tunnel for some way, and then dipped suddenly down, so suddenly that Alice had not a moment to think about stopping herself before she found herself falling down a very deep well.
Either the well was very deep, or she fell very slowly, for she had plenty of time as she went down to look about her and to wonder what was going to happen next. First, she tried to look down and make out what she was coming to, but it was too dark to see anything; then she looked at the sides of the well, and noticed that they were filled with cupboards and book-shelves; here and there she saw maps and pictures hung upon pegs. She took down a jar from one of the shelves as she passed; it was labelled 'ORANGE MARMALADE', but to her great disappointment it was empty: she did not like to drop the jar for fear of killing somebody, so managed to put it into one of the cupboards as she fell past it.
'Well!' thought Alice to herself, 'after such a fall as this, I shall think nothing of tumbling down stairs! How brave they'll all think me at home! Why, I wouldn't say anything about it, even if I fell off the top of the house!' (Which was very likely true.)
Down, down, down. Would the fall never come to an end! 'I wonder how many miles I've fallen by this time?' she said aloud. 'I must be getting somewhere near the centre of the earth. Let me see: that would be four thousand miles down, I think' (for, you see, Alice had learnt several things of this sort in her lessons in the schoolroom, and though this was not a very good opportunity for showing off her knowledge, as there was no one to listen to her, still it was good practice to say it over) 'yes, that's about the right distancebut then I wonder what Latitude or Longitude I've got to?' (Alice had no idea what Latitude was, or Longitude either, but thought they were nice grand words to say.)'''

# theInput = '''English is a West Germanic language that was first spoken in early medieval England and is now a global lingua franca.[4][5] English is either the official language or an official language in almost 60 sovereign states. It is the most commonly spoken language in the United Kingdom, the United States, Canada, Australia, Ireland, and New Zealand, and it is widely spoken in some areas of the Caribbean, Africa, and South Asia.[6] It is the third most common native language in the world, after Mandarin and Spanish.[7] It is the most widely learned second language and is an official language of the United Nations, of the European Union, and of many other world and regional international organisations. English has developed over the course of more than 1,400 years. The earliest forms of English, a set of Anglo-Frisian dialects brought to Great Britain by Anglo-Saxon settlers in the fifth century, are called Old English. Middle English began in the late 11th century with the Norman conquest of England.[8] Early Modern English began in the late 15th century with the introduction of the printing press to London and the King James Bible as well as the Great Vowel Shift.[9] Through the worldwide influence of the British Empire, modern English spread around the world from the 17th to mid-20th centuries. Through all types of printed and electronic media, as well as the emergence of the United States as a global superpower, English has become the leading language of international discourse and the lingua franca in many regions and in professional contexts such as science, navigation, and law.[10] Modern English has little inflection compared with many other languages, and relies on auxiliary verbs and word order for the expression of complex tenses, aspect and mood, as well as passive constructions, interrogatives and some negation. Despite noticeable variation among the accents and dialects of English used in different countries and regions – in terms of phonetics and phonology, and sometimes also vocabulary, grammar and spelling – English speakers from around the world are able to communicate with one another effectively. Contents [hide] 1 Classification 2 History 2.1 Proto-Germanic to Old English 2.2 Middle English 2.3 Early Modern English 2.4 Spread of Modern English 3 Geographical distribution 3.1 Three circles of English-speaking countries 3.2 Pluricentric English 3.3 English as a global language 4 Phonology 4.1 Consonants 4.2 Vowels 4.3 Phonotactics 4.4 Stress, rhythm and intonation 4.5 Regional variation 5 Grammar 5.1 Nouns and noun phrases 5.1.1 Adjectives 5.1.2 Pronouns, case and person 5.1.3 Prepositions 5.2 Verbs and verb phrases 5.2.1 Tense, aspect and mood 5.2.2 Phrasal verbs 5.2.3 Adverbs 5.3 Syntax 5.3.1 Basic constituent order 5.3.2 Clause syntax 5.3.3 Auxiliary verb constructions 5.3.4 Questions 5.3.5 Discourse level syntax 6 Vocabulary 6.1 Word formation processes 6.2 Word origins 6.3 English loanwords and calques in other languages 7 Writing system 8 Dialects, accents, and varieties 8.1 UK and Ireland 8.2 North America 8.3 Australia and New Zealand 8.4 Africa, the Caribbean, and South Asia 9 References 10 Bibliography 11 External links Classification Phylogenetic tree showing the historical relations between the languages of the West Germanic branch of the Germanic languages EN： English Language Symbol ISO 639-1 IETF language tag Icon English is an Indo-European language, and belongs to the West Germanic group of the Germanic languages.[11] Most closely related to English are the Frisian languages, and English and Frisian form the Anglo-Frisian subgroup within West Germanic. Old Saxon and its descendent Low German languages are also closely related, and sometimes Low German, English, and Frisian are grouped together as the Ingvaeonic or North Sea Germanic languages.[12] Modern English descends from Middle English, which in turn descends from Old English.[13] Particular dialects of Old and Middle English also developed into a number of other English (Anglic) languages, including Scots[14] and the extinct Fingallian and Forth and Bargy (Yola) dialects of Ireland.[15] English is classified as a Germanic language because it shares new language features (different from other Indo-European languages) with other Germanic languages such as Dutch, German, and Swedish.[16] These shared innovations show that the languages have descended from a single common ancestor, which linguists call Proto-Germanic. Some shared features of Germanic languages are the use of modal verbs, the division of verbs into strong and weak classes, and the sound changes affecting Proto-Indo-European consonants, known as Grimm's and Verner's laws. Through Grimm's law, the word for foot begins with /f/ in Germanic languages, but its cognates in other Indo-European languages begin with /p/. English is classified as an Anglo-Frisian language because Frisian and English share other features, such as the palatalisation of consonants that were velar consonants in Proto-Germanic (see Phonological history of Old English § Palatalization).[17] English sing, sang, sung; Dutch zingen, zong, gezongen; German singen, sang, gesungen (strong verb) English laugh, laughed; Dutch and German lachen, lachte (weak verb) English foot, Dutch voet, German Fuß, Norwegian and Swedish fot (initial /f/ derived from Proto-Indo-European *p through Grimm's law) Latin pes, stem ped-; Modern Greek πόδι pódi; Russian под pod; Sanskrit पद् pád (original Proto-Indo-European *p) English cheese, Frisian tsiis (ch and ts from palatalisation) German Käse and Dutch kaas (k without palatalisation) English, like the other insular Germanic languages, Icelandic and Faroese, developed independently of the continental Germanic languages and their influences. English is thus not mutually intelligible with any continental Germanic language, differing in vocabulary, syntax, and phonology, although some, such as Dutch, do show strong affinities with English, especially with its earlier stages.[18] Because English through its history has changed considerably in response to contact with other languages, particularly Old Norse and Norman French, some scholars have argued that English can be considered a mixed language or a creole – a theory called the Middle English creole hypothesis. Although the high degree of influence from these languages on the vocabulary and grammar of Modern English is widely acknowledged, most specialists in language contact do not consider English to be a true mixed language.[19][20] History Main article: History of the English language Proto-Germanic to Old English Main article: Old English The opening to the Old English epic poem Beowulf, handwritten in half-uncial script: Hƿæt ƿē Gārde/na ingēar dagum þēod cyninga / þrym ge frunon... "Listen! We of the Spear-Danes from days of yore have heard of the glory of the folk-kings..." The earliest form of English is called Old English or Anglo-Saxon (c. 550–1066 CE). Old English developed from a set of North Sea Germanic dialects originally spoken along the coasts of Frisia, Lower Saxony, Jutland, and Southern Sweden by Germanic tribes known as the Angles, Saxons, and Jutes. In the fifth century, the Anglo-Saxons settled Britain and the Romans withdrew from Britain. By the seventh century, the Germanic language of the Anglo-Saxons became dominant in Britain, replacing the languages of Roman Britain (43–409 CE): Common Brittonic, a Celtic language, and Latin, brought to Britain by the Roman occupation.[21][22][23] England and English (originally Englaland and Englisc) are named after the Angles.[24] Old English was divided into four dialects: the Anglian dialects, Mercian and Northumbrian, and the Saxon dialects, Kentish and West Saxon.[25] Through the educational reforms of King Alfred in the ninth century and the influence of the kingdom of Wessex, the West Saxon dialect became the standard written variety.[26] The epic poem Beowulf is written in West Saxon, and the earliest English poem, Cædmon's Hymn, is written in Northumbrian.[27] Modern English developed mainly from Mercian, but the Scots language developed from Northumbrian. A few short inscriptions from the early period of Old English were written using a runic script.[28] By the sixth century, a Latin alphabet was adopted, written with half-uncial letterforms. It included the runic letters wynn <ƿ> and thorn <þ>, and the modified Latin letters eth <ð>, and ash <æ>.[28][29] Old English is very different from Modern English and difficult for 21st-century English speakers to understand. Its grammar was similar to that of modern German, and its closest relative is Old Frisian. Nouns, adjectives, pronouns, and verbs had many more inflectional endings and forms, and word order was much freer than in Modern English. Modern English has case forms in pronouns (he, him, his) and a few verb endings (I have, he has), but Old English had case endings in nouns as well, and verbs had more person and number endings.[30][31][32] The translation of Matthew 8:20 from 1000 CE shows examples of case endings (nominative plural, accusative plural, genitive singular) and a verb ending (present plural): Foxas habbað holu and heofonan fuglas nest Fox-as habb-að hol-u and heofon-an fugl-as nest-∅ fox-nom.pl have-prs.pl hole-acc.pl and heaven-gen.sg bird-nom.pl nest-acc.pl "Foxes have holes and the birds of heaven nests"[33] Middle English Main article: Middle English Englischmen þeyz hy hadde fram þe bygynnyng þre manner speche, Souþeron, Northeron, and Myddel speche in þe myddel of þe lond, … Noþeles by comyxstion and mellyng, furst wiþ Danes, and afterward wiþ Normans, in menye þe contray longage ys asperyed, and som vseþ strange wlaffyng, chyteryng, harryng, and garryng grisbytting. Although, from the beginning, Englishmen had three manners of speaking, southern, northern and midlands speech in the middle of the country, … Nevertheless, through intermingling and mixing, first with Danes and then with Normans, amongst many the country language has arisen, and some use strange stammering, chattering, snarling, and grating gnashing. “” John of Trevisa, ca. 1385[34] Title page of Geoffrey Chaucer's Canterbury Tales c. 1400 In the period from the 8th to the 12th century, Old English gradually transformed through language contact into Middle English. Middle English is often arbitrarily defined as beginning with the conquest of England by William the Conqueror in 1066, but it developed further in the period from 1200–1450. First, the waves of Norse colonisation of northern parts of the British Isles in the 8th and 9th centuries put Old English into intense contact with Old Norse, a North Germanic language. Norse influence was strongest in the Northeastern varieties of Old English spoken in the Danelaw area around York, which was the centre of Norse colonisation; today these features are still particularly present in Scots and Northern English. However the centre of norsified English seems to have been in the Midlands around Lindsey, and after 920 CE when Lindsey was reincorporated into the Anglo-Saxon polity, Norse features spread from there into English varieties that had not been in intense contact with Norse speakers. Some elements of Norse influence that persist in all English varieties today are the pronouns beginning with th- (they, them, their) which replaced the Anglo-Saxon pronouns with h- (hie, him, hera).[35] With the Norman conquest of England in 1066, the now norsified Old English language was subject to contact with the Old Norman language, a Romance language closely related to Modern French. The Norman language in England eventually developed into Anglo-Norman. Because Norman was spoken primarily by the elites and nobles, while the lower classes continued speaking Anglo-Saxon, the influence of Norman consisted of introducing a wide range of loanwords related to politics, legislation and prestigious social domains.[36] Middle English also greatly simplified the inflectional system, probably in order to reconcile Old Norse and Old English, which were inflectionally different but morphologically similar. The distinction between nominative and accusative case was lost except in personal pronouns, the instrumental case was dropped, and the use of the genitive case was limited to describing possession. The inflectional system regularised many irregular inflectional forms,[37] and gradually simplified the system of agreement, making word order less flexible.[38] By the Wycliffe Bible of the 1380s, the passage Matthew 8:20 was written Foxis han dennes, and briddis of heuene han nestis[39] Here the plural suffix -n on the verb have is still retained, but none of the case endings on the nouns are present. By the 12th century Middle English was fully developed, integrating both Norse and Norman features; it continued to be spoken until the transition to early Modern English around 1500. Middle English literature includes Geoffrey Chaucer's The Canterbury Tales, and Malory's Le Morte d'Arthur. In the Middle English period the use of regional dialects in writing proliferated, and dialect traits were even used for effect by authors such as Chaucer. Early Modern English Main article: Early Modern English Graphic representation of the Great Vowel Shift, showing how the pronunciation of the long vowels gradually shifted, with the high vowels i: and u: breaking into diphthongs and the lower vowels each shifting their pronunciation up one level The next period in the history of English was Early Modern English (1500–1700). Early Modern English was characterised by the Great Vowel Shift (1350–1700), inflectional simplification, and linguistic standardisation. The Great Vowel Shift affected the stressed long vowels of Middle English. It was a chain shift, meaning that each shift triggered a subsequent shift in the vowel system. Mid and open vowels were raised, and close vowels were broken into diphthongs. For example, the word bite was originally pronounced as the word beet is today, and the second vowel in the word about was pronounced as the word boot is today. The Great Vowel Shift explains many irregularities in spelling, since English retains many spellings from Middle English, and it also explains why English vowel letters have very different pronunciations from the same letters in other languages.[40][41] English began to rise in prestige during the reign of Henry V. Around 1430, the Court of Chancery in Westminster began using English in its official documents, and a new standard form of Middle English, known as Chancery Standard, developed from the dialects of London and the East Midlands. In 1476, William Caxton introduced the printing press to England and began publishing the first printed books in London, expanding the influence of this form of English.[42] Literature from the Early Modern period includes the works of William Shakespeare and the translation of the Bible commissioned by King James I. Even after the vowel shift the language still sounded different from Modern English: for example, the consonant clusters /kn gn sw/ in knight, gnat, and sword were still pronounced. Many of the grammatical features that a modern reader of Shakespeare might find quaint or archaic represent the distinct characteristics of Early Modern English.[43] In the 1611 King James Version of the Bible, written in Early Modern English, Matthew 8:20 says: The Foxes haue holes and the birds of the ayre haue nests[33] This exemplifies the loss of case and its effects on sentence structure (replacement with Subject-Verb-Object word order, and the use of of instead of the non-possessive genitive), and the introduction of loanwords from French (ayre) and word replacements (bird originally meaning "nestling" had replaced OE fugol). Spread of Modern English By the late 18th century, the British Empire had facilitated the spread of English through its colonies and geopolitical dominance. Commerce, science and technology, diplomacy, art, and formal education all contributed to English becoming the first truly global language. English also facilitated worldwide international communication.[44] [45] As England continued to form new colonies, these in turn became independent and developed their own norms for how to speak and write the language. English was adopted in North America, India, parts of Africa, Australasia, and many other regions. In the post-colonial period, some of the newly created nations that had multiple indigenous languages opted to continue using English as the official language to avoid the political difficulties inherent in promoting any one indigenous language above the others.[46][47][48] In the 20th century the growing economic and cultural influence of the United States and its status as a superpower following the Second World War has, along with worldwide broadcasting in English by the BBC[49] and other broadcasters, significantly accelerated the spread of the language across the planet.[50][51] By the 21st century, English was more widely spoken and written than any language has ever been.[52] A major feature in the early development of Modern English was the codification of explicit norms for standard usage, and their dissemination through official media such as public education and state sponsored publications. In 1755 Samuel Johnson published his A Dictionary of the English Language which introduced a standard set of spelling conventions and usage norms. In 1828, Noah Webster published the American Dictionary of the English language in an effort to establish a norm for speaking and writing American English that was independent from the British standard. Within Britain, non-standard or lower class dialect features were increasingly stigmatised, leading to the quick spread of the prestige varieties among the middle classes.[53] In terms of grammatical evolution, Modern English has now reached a stage where the loss of case is almost complete (case is now only found in pronouns, such as he and him, she and her, who and whom), and where SVO word-order is mostly fixed.[53] Some changes, such as the use of do-support have become universalised. (Earlier English did not use the word "do" as a general auxiliary as Modern English does; at first it was only used in question constructions where it was not obligatory.[54] Now, do-support with the verb have is becoming increasingly standardised.) The use of progressive forms in -ing, appears to be spreading to new constructions, and forms such as had been being built are becoming more common. Regularisation of irregular forms also slowly continues (e.g. dreamed instead of dreamt), and analytical alternatives to inflectional forms are becoming more common (e.g. more polite instead of politer). British English is also undergoing change under the influence of American English, fuelled by the strong presence of American English in the media and the prestige associated with the US as a world power. [55][56][57] Geographical distribution See also: List of territorial entities where English is an official language, List of countries by English-speaking population and Anglosphere As of 2010, 359 million people spoke English as their first language. English is probably the third largest language by number of native speakers, after Mandarin and Spanish.[7] However, when combining native and non-native speakers it is probably the most commonly spoken language in the world.[52][58] English is spoken by communities on every continent and on oceanic islands in all the major oceans.[59] The countries in which English is spoken can be grouped into different categories by how English is used in each country. The "inner circle"[60] countries with many native speakers of English share an international standard of written English and jointly influence speech norms of English around the world. English does not belong to just one country, and it does not belong solely to descendants of English settlers. English is an official language of countries populated by few descendants of native speakers of English. It has also become by far the most important language of international communication when people who share no native language meet anywhere in the world. Three circles of English-speaking countries Braj Kachru distinguishes countries where English is spoken with a three circles model.[60] In his model, the "inner circle" countries are countries with large communities of native speakers of English, "outer circle" countries have small communities of native speakers of English but widespread use of English as a second language in education or broadcasting or for local official purposes, and "expanding circle" countries are countries where many learners learn English as a foreign language. Kachru bases his model on the history of how English spread in different countries, how users acquire English, and the range of uses English has in each country. The three circles change membership over time.[61] Countries with large communities of native speakers of English (the inner circle) include Britain, the United States, Australia, Canada, Ireland, and New Zealand, where the majority speaks English, and South Africa, where a significant minority speaks English. The countries with the most native English speakers are, in descending order, the United States (at least 231 million),[62] the United Kingdom (60 million),[63][64][65] Canada (19 million),[66] Australia (at least 17 million),[67] South Africa (4.8 million),[68] Ireland (4.2 million), and New Zealand (3.7 million).[69] In these countries, children of native speakers learn English from their parents, and local people who speak other languages or new immigrants learn English to communicate in their neighbourhoods and workplaces.[70] The inner-circle countries provide the base from which English spreads to other countries in the world.[61] Estimates of the number of English speakers who are second language and foreign-language speakers vary greatly from 470 million to more than 1,000 million depending on how proficiency is defined.[6] Linguist David Crystal estimates that non-native speakers now outnumber native speakers by a ratio of 3 to 1.[58] In Kachru's three-circles model, the "outer circle" countries are countries such as the Philippines,[71] Jamaica,[72] India, Pakistan[citation needed], Singapore,[73] and Nigeria[74][75] with a much smaller proportion of native speakers of English but much use of English as a second language for education, government, or domestic business, and where English is routinely used for school instruction and official interactions with the government.[76] Those countries have millions of native speakers of dialect continua ranging from an English-based creole to a more standard version of English. They have many more speakers of English who acquire English in the process of growing up through day by day use and listening to broadcasting, especially if they attend schools where English is the medium of instruction. Varieties of English learned by speakers who are not native speakers born to English-speaking parents may be influenced, especially in their grammar, by the other languages spoken by those learners.[70] Most of those varieties of English include words little used by native speakers of English in the inner-circle countries,[70] and they may have grammatical and phonological differences from inner-circle varieties as well. The standard English of the inner-circle countries is often taken as a norm for use of English in the outer-circle countries.[70] In the three-circles model, countries such as Poland, China, Brazil, Germany, Japan, Indonesia, Egypt, and other countries where English is taught as a foreign language make up the "expanding circle".[77] The distinctions between English as a first language, as a second language, and as a foreign language are often debatable and may change in particular countries over time.[76] For example, in the Netherlands and some other countries of Europe, knowledge of English as a second language is nearly universal, with over 80 percent of the population able to use it,[78] and thus English is routinely used to communicate with foreigners and often in higher education. In these countries, although English is not used for government business, the widespread use of English in these countries puts them at the boundary between the "outer circle" and "expanding circle". English is unusual among world languages in how many of its users are not native speakers but speakers of English as a second or foreign language.[79] Many users of English in the expanding circle use it to communicate with other people from the expanding circle, so that interaction with native speakers of English plays no part in their decision to use English.[80] Non-native varieties of English are widely used for international communication, and speakers of one such variety often encounter features of other varieties.[81] Very often today a conversation in English anywhere in the world may include no native speakers of English at all, even while including speakers from several different countries.[82] Circle frame.svg Pie chart showing the percentage of native English speakers living in "inner circle" English-speaking countries. Native speakers are now substantially outnumbered worldwide by second-language speakers of English (not counted in this chart). US (64.3%) UK (16.7%) Canada (5.3%) Australia (4.7%) South Africa (1.3%) Ireland (1.1%) New Zealand (1%) Other (5.6%) Pluricentric English English is a pluricentric language, which means that no one national authority sets the standard for use of the language.[83][84][85][86] But English is not a divided language,[87] despite a long-standing joke originally attributed to George Bernard Shaw that the United Kingdom and the United States are "two countries separated by a common language".[88] Spoken English, for example English used in broadcasting, generally follows national pronunciation standards that are also established by custom rather than by regulation. International broadcasters are usually identifiable as coming from one country rather than another through their accents,[89] but newsreader scripts are also composed largely in international standard written English. The norms of standard written English are maintained purely by the consensus of educated English-speakers around the world, without any oversight by any government or international organisation.[90] American listeners generally readily understand most British broadcasting, and British listeners readily understand most American broadcasting. Most English speakers around the world can understand radio programmes, television programmes, and films from many parts of the English-speaking world.[91] Both standard and nonstandard varieties of English can include both formal or informal styles, distinguished by word choice and syntax and use both technical and non-technical registers.[92] The settlement history of the English-speaking inner circle countries outside Britain helped level dialect distinctions and produce a koineised form of English in South Africa, Australia, and New Zealand.[93] The majority of immigrants to the United States without British ancestry rapidly adopted English after arrival. Now the majority of the United States population are monolingual English speakers,[94][62] although English has only been given official status by 30 of the 50 state governments of the US. [95][96] English as a global language English has ceased to be an "English language" in the sense of belonging only to people who are ethnically English.[97][98] Use of English is growing country-by-country internally and for international communication. Most people learn English for practical rather than ideological reasons.[99] Many speakers of English in Africa have become part of an "Afro-Saxon" language community that unites Africans from different countries.[100] As decolonisation proceeded throughout the British Empire in the 1950s and 1960s, former colonies often did not reject English but rather continued to use it as independent countries setting their own language policies.[47][48][101] For example, the view of the English language among many Indians has gone from associating it with colonialism to associating it with economic progress, and English continues to be an official language of India.[102] English is also widely used in media and literature, and the number of English language books published annually in India is the third largest in the world after the US and UK.[103] However English is rarely spoken as a first language, numbering only around a couple hundred-thousand people, and less than 5% of the population speak fluent English in India.[104][105] David Crystal claimed in 2004 that, combining native and non-native speakers, India now has more people who speak or understand English than any other country in the world,[106] but the number of English speakers in India is very uncertain, with most scholars concluding that the United States still has more speakers of English than India.[107] Modern English, sometimes described as the first global lingua franca,[50][108] is also regarded as the first world language.[109][110] English is the world's most widely used language in newspaper publishing, book publishing, international telecommunications, scientific publishing, international trade, mass entertainment, and diplomacy.[110] English is, by international treaty, the basis for the required controlled natural languages[111] Seaspeak and Airspeak used as international languages of seafaring[112] and aviation.[113] English has replaced German as the dominant language of scientific research.[114] It achieved parity with French as a language of diplomacy at the Treaty of Versailles negotiations in 1919.[115] By the time of the foundation of the United Nations at the end of World War II, English had become pre-eminent [116] and is now the main worldwide language of diplomacy and international relations.[117] It is one of six official languages of the United Nations.[118] Many other worldwide international organisations, including the International Olympic Committee, specify English as a working language or official language of the organisation. Many regional international organisations such as the European Free Trade Association, Association of Southeast Asian Nations (ASEAN),[51] and Asia-Pacific Economic Cooperation (APEC) set English as their organisation's sole working language even though most members are not countries with a majority of native English speakers. While the European Union (EU) allows member states to designate any of the national languages as an official language of the Union, in practice English is the main working language of EU organisations.[119] Although in most countries English is not an official language, it is currently the language most often taught as a foreign language.[50][51] In the countries of the EU, English is the most widely spoken foreign language in nineteen of the twenty-five member states where it is not an official language (that is, the countries other than the UK, Ireland and Malta). In a 2012 official Eurobarometer poll, 38 percent of the EU respondents outside the countries where English is an official language said they could speak English well enough to have a conversation in that language. The next most commonly mentioned foreign language, French (which is the most widely known foreign language in the UK and Ireland), could be used in conversation by 12 percent of respondents.[120] A working knowledge of English has become a requirement in a number of occupations and professions such as medicine[121] and computing. English has become so important in scientific publishing that more than 80 percent of all scientific journal articles indexed by Chemical Abstracts in 1998 were written in English, as were 90 percent of all articles in natural science publications by 1996 and 82 percent of articles in humanities publications by 1995.[122] The increased use of the English language globally has had an effect on other languages, leading to some English words being assimilated into the vocabularies of other languages. This influence of English has led to concerns about language death,[123] and to claims of linguistic imperialism,[124] and has provoked resistance to the spread of English; however the number of speakers continues to increase because many people around the world think that English provides them with opportunities for better employment and improved lives.[125] Although some scholars mention a possibility of future divergence of English dialects into mutually unintelligible languages, most think a more likely outcome is that English will continue to function as a koineised language in which the standard form unifies speakers from around the world.[126] English is used as the language for wider communication in countries around the world.[127] Thus English has grown in worldwide use much more than any constructed language proposed as an international auxiliary language, including Esperanto.[128][129] Phonology Main article: English phonology The phonetics and phonology of English differ between dialects, usually without interfering with mutual communication. Phonological variation affects the inventory of phonemes (speech sounds that distinguish meaning), and phonetic variation is differences in pronunciation of the phonemes.[130] This overview mainly describes the standard pronunciations of the United Kingdom and the United States: Received Pronunciation (RP) and General American (GA) (See Section below on "Dialects, accents and varieties"). The phonetic symbols used below are from the International Phonetic Alphabet (IPA).[131][132][133] Consonants Main article: English phonology § Consonants Most English dialects share the same 24 consonant phonemes. The consonant inventory shown below is valid for Californian American English,[134] and for RP.[135] Consonant phonemes Labial Dental Alveolar Post- alveolar Palatal Velar Glottal Nasal m n ŋ Stop p b t d k ɡ Affricate tʃ dʒ Fricative f v θ ð s z ʃ ʒ h Approximant ɹ* j w Lateral l *Conventionally transcribed /r/. In the table, when obstruents (stops, affricates, and fricatives) appear in pairs, such as /p b/, /tʃ dʒ/, and /s z/, the first is fortis (strong) and the second is lenis (weak). Fortis obstruents, such as /p tʃ s/ are pronounced with more muscular tension and breath force than lenis consonants, such as /b dʒ z/, and are always voiceless. Lenis consonants are partly voiced at the beginning and end of utterances, and fully voiced between vowels. Fortis stops such as /p/ have additional articulatory or acoustic features in most dialects: they are aspirated [pʰ] when they occur alone at the beginning of a stressed syllable, often unaspirated in other cases, and often unreleased [p̚ ] or pre-glottalised [ˀp] at the end of a syllable. In a single-syllable word, a vowel before a fortis stop is shortened: thus nip has a noticeably shorter vowel (phonetically, but not phonemically) than nib [nɪˑp̬] (see below).[136] lenis stops: bin [b̥ɪˑn], about [əˈbaʊt], nib [nɪˑb̥] fortis stops: pin [ˈpʰɪn], spin [spɪn], happy [ˈhæpi], nip [ˈnip̚ ] or [ˈniˀp] In RP, the lateral approximant /l/, has two main allophones (pronunciation variants): the clear or plain [l], as in light, and the dark or velarised [ɫ], as in full.[137] GA has dark l in most cases.[138] clear l: RP light [laɪt] dark l: RP and GA full [fʊɫ], GA light [ɫaɪt] All sonorants (liquids /l, r/ and nasals /m, n, ŋ/) devoice when following a voiceless obstruent, and they are syllabic when following a consonant at the end of a word.[139] voiceless sonorants: clay [ˈkɬɛɪ̯] and snow [ˈsn̥oʊ] syllabic sonorants: paddle [pad.l̩], and button [bʌt.n̩] Vowels Main article: English phonology § Vowels The pronunciation of vowels varies a great deal between dialects and is one of the most detectable aspects of a speaker's accent. The table below lists the vowel phonemes in Received Pronunciation (RP) and General American (GA), with examples of words in which they occur from lexical sets compiled by linguists. The vowels are represented with symbols from the International Phonetic Alphabet; those given for RP are standard in British dictionaries and other publications. monophthongs RP GA word iː i need ɪ bid e ɛ bed æ back monophthongs RP GA word (ɪ) ɨ roses ə comma ɜː ɜr bird ʌ but monophthongs RP GA word uː u food ʊ good ɔː ɔ paw ɒ cloth ɑ box ɑː bra diphthongs RP GA word eɪ bay əʊ oʊ road aɪ cry aʊ cow ɔɪ boy In RP, vowel length is phonemic; long vowels are marked with a triangular colon ⟨ː⟩ in the table above, such as the vowel of need [niːd] as opposed to bid [bɪd]. GA does not have long vowels. In both RP and GA, vowels are phonetically shortened before fortis consonants in the same syllable, like /t tʃ f/, but not before lenis consonants like /d dʒ v/ or in open syllables: thus, the vowels of rich [rɪ̆tʃ], neat [niˑt], and safe [sĕɪ̆f] are noticeably shorter than the vowels of ridge [rɪdʒ], need [niːd], and save [seɪv], and the vowel of light [lăɪ̆t] is shorter than that of lie [laɪ]. Because lenis consonants are frequently voiceless at the end of a syllable, vowel length is an important cue as to whether the following consonant is lenis or fortis.[140] The vowels /ɨ ə/ only occur in unstressed syllables and are a result of vowel reduction. Some dialects do not distinguish them, so that roses and comma end in the same vowel, a dialect feature called weak vowel merger. GA has an unstressed r-coloured schwa /ɚ/, as in butter [ˈbʌtɚ], which in RP has the same vowel as the word-final vowel in comma. Phonotactics An English syllable includes a syllable nucleus consisting of a vowel sound. Syllable onset and coda (start and end) are optional. A syllable can start with up to three consonant sounds, as in sprint /sprɪnt/, and end with up to four, as in texts /teksts/. This gives an English syllable the following structure, (CCC)V(CCCC) where C represents a consonant and V a vowel. The consonants that may appear together in onsets or codas are restricted, as is the order in which they may appear. Onsets can only have four types of consonant clusters: a stop and approximant, as in play; a voiceless fricative and approximant, as in fly or sly; s and a voiceless stop, as in stay; and s, a voiceless stop, and an approximant, as in string.[141] Clusters of nasal and stop are only allowed in codas. Clusters of obstruents always agree in voicing, and clusters of sibilants and of plosives with the same point of articulation are prohibited. Furthermore, several consonants have limited distributions: /h/ can only occur in syllable initial position, and /ŋ/ only in syllable final position.[142] Stress, rhythm and intonation See also: Stress and vowel reduction in English and Intonation in English Stress plays an important role in English. Certain syllables are stressed, while others are unstressed. Stress is a combination of duration, intensity, vowel quality, and sometimes changes in pitch. Stressed syllables are pronounced longer and louder than unstressed syllables, and vowels in unstressed syllables are frequently reduced while vowels in stressed syllables are not.[143] Some words, primarily short function words but also some modal verbs such as can, have weak and strong forms depending on whether they occur in stressed or non-stressed position within a sentence. Stress in English is phonemic, and some pairs of words are distinguished by stress. For instance, the word contract is stressed on the first syllable (/ˈkɒntrækt/ kon-trakt) when used as a noun, but on the last syllable (/kənˈtrækt/ kən-trakt) for most meanings (for example, "reduce in size") when used as a verb.[144][145][146] Here stress is connected to vowel reduction: in the noun "contract" the first syllable is stressed and has the unreduced vowel /ɒ/, but in the verb "contract" the first syllable is unstressed and its vowel is reduced to /ə/. Stress is also used to distinguish between words and phrases, so that a compound word receives a single stress unit, but the corresponding phrase has two: e.g. to búrn óut versus a búrnout, and a hótdog versus a hót dóg.[147] In terms of rhythm, English is generally described as a stress-timed language, meaning that the amount of time between stressed syllables tends to be equal. Stressed syllables are pronounced longer, but unstressed syllables (syllables between stresses) are shortened. Vowels in unstressed syllables are shortened as well, and vowel shortening causes changes in vowel quality: vowel reduction. Regional variation [show]Varieties of Standard English and their features[148] Dialects and low vowels word RP GA Can sound change thought /ɔ/ /ɔ/ or /ɑ/ /ɑ/ cot–caught merger cloth /ɒ/ lot–cloth split lot /ɑ/ father–bother merger palm /ɑː/ plant /æ/ /æ/ trap–bath split bath trap /æ/ Varieties of English vary the most in pronunciation of vowels, and are categorised generally into two groups: British (BrE) and American (AmE). Because North America was settled in the late 17th century, American and Canadian English had time to diverge greatly from other varieties of English during centuries when transoceanic travel was slow. Australian, New Zealand, and South African English, on the other hand, were settled in the 19th century, shortly before ocean-going steamships became commonplace, so they show close similarities to the English of South East England. The English spoken in Ireland and Scottish English fall between these two groups. Some differences between the various dialects are shown in the table "Varieties of Standard English and their features".[148] English has undergone many historical sound changes, some of them affecting all varieties, and others affecting only a few. Most standard varieties are affected by the Great Vowel Shift, which changed the pronunciation of long vowels, but a few dialects have slightly different results. In North America, a number of chain shifts such as the Northern Cities Vowel Shift and Canadian Shift have produced very different vowel landscapes in some regional accents. Some dialects have fewer or more consonant phonemes and phones than the standard varieties. Some conservative varieties like Scottish English have a voiceless [ʍ] sound in whine that contrasts with the voiced [w] in wine, but most other dialects pronounce both words with voiced [w], a dialect feature called wine–whine merger. The unvoiced velar fricative sound /x/ is found in Scottish English, which distinguishes loch /lɔx/ from lock /lɔk/. Accents like Cockney with "h-dropping" lack the glottal fricative /h/, and dialects with th-stopping and th-fronting like African American Vernacular and Estuary English do not have the dental fricatives /θ, ð/, but replace them with dental or alveolar stops /t, d/ or labiodental fricatives /f, v/.[149][150] Other changes affecting the phonology of local varieties are processes such as yod-dropping, yod-coalescence, and reduction of consonant clusters. General American and Received Pronunciation vary in their pronunciation of historical /r/ after a vowel at the end of a syllable (in the syllable coda). GA is a rhotic dialect, meaning that it pronounces /r/ at the end of a syllable, but RP is non-rhotic, meaning that it loses /r/ in that position. English dialects are classified as rhotic or non-rhotic depending on whether they elide /r/ like RP or keep it like GA.[151] There is complex dialectal variation in words with the open front and open back vowels /æ ɑː ɒ ɔː/. These four vowels are only distinguished in RP, Australia, New Zealand and South Africa. In GA, these vowels merge to three /æ ɑ ɔ/,[152] and in Canadian English they merge to two /æ ɑ/.[153] In addition, the words that have each vowel vary by dialect. The table "Dialects and open vowels" shows this variation with lexical sets in which these sounds occur. Grammar Main article: English grammar Modern English grammar is the result of a gradual change from a typical Indo-European dependent marking pattern with a rich inflectional morphology and relatively free word order, to a mostly analytic pattern with little inflection, a fairly fixed SVO word order and a complex syntax.[154] Some traits typical of Germanic languages persist in English, such as the distinction between irregularly inflected strong stems inflected through ablaut (i.e. changing the vowel of the stem, as in the pairs speak/spoke and foot/feet) and weak stems inflected through affixation (such as love/loved, hand/hands). Vestiges of the case and gender system are found in the pronoun system (he/him, who/whom) and in the inflection of the copula verb to be. Typically for an Indo-European language, English follows accusative morphosyntactic alignment. English distinguishes at least seven major word classes: verbs, nouns, adjectives, adverbs, determiners (i.e. articles), prepositions, and conjunctions. Some analyses add pronouns as a class separate from nouns, and subdivide conjunctions into subordinators and coordinators, and add the class of interjections.[155] English also has a rich set of auxiliary verbs, such as have and do, expressing the categories of mood and aspect. Questions are marked by do-support, wh-movement (fronting of question words beginning with wh-) and word order inversion with some verbs. The seven word classes are exemplified in this sample sentence:[156] The chairman of the committee and the loquacious politician clashed violently when the meeting started Det. Noun Prep. Det. Noun Conj. Det. Adj. Noun Verb Advb. Conj. Det. Noun Verb Nouns and noun phrases English nouns are only inflected for number and possession. New nouns can be formed through derivation or compounding. They are semantically divided into proper nouns (names) and common nouns. Common nouns are in turn divided into concrete and abstract nouns, and grammatically into count nouns and mass nouns.[157] Most count nouns are inflected for plural number through the use of the plural suffix -s, but a few nouns have irregular plural forms. Mass nouns can only be pluralised through the use of a count noun classifier, e.g. one loaf of bread, two loaves of bread.[158] Regular Plural formation: Singular: cat, dog Plural: cats, dogs Irregular plural formation: Singular: man, woman, foot, fish, ox, knife, mouse Plural: men, women, feet, fish, oxen, knives, mice Possession can be expressed either by the possessive enclitic -s (also traditionally called a genitive suffix), or by the preposition of. Historically the -s possessive has been used for animate nouns, whereas the of possessive has been reserved for inanimate nouns. Today this distinction is less clear, and many speakers use -s also with inanimates. Orthographically the possessive -s is separated from the noun root with an apostrophe. Possessive constructions: With -s: The woman's husband's child With of: The child of the husband of the woman Nouns can form noun phrases (NPs) where they are the syntactic head of the words that depend on them such as determiners, quantifiers, conjunctions or adjectives.[159] Noun phrases can be short, such as the man, composed only of a determiner and a noun. They can also include modifiers such as adjectives (e.g. red, tall, all) and specifiers such as determiners (e.g. the, that). But they can also tie together several nouns into a single long NP, using conjunctions such as and, or prepositions such as with, e.g. the tall man with the long red trousers and his skinny wife with the spectacles (this NP uses conjunctions, prepositions, specifiers and modifiers). Regardless of length, an NP functions as a syntactic unit. For example, the possessive enclitic can, in cases which do not lead to ambiguity, follow the entire noun phrase, as in The President of India's wife, where the enclitic follows India and not President. The class of determiners is used to specify the noun they precede in terms of definiteness, where the marks a definite noun and a or an an indefinite one. A definite noun is assumed by the speaker to be already known by the interlocutor, whereas an indefinite noun is not specified as being previously known. Quantifiers, which include one, many, some and all, are used to specify the noun in terms of quantity or number. The noun must agree with the number of the determiner, e.g. one man (sg.) but all men (pl.). Determiners are the first constituents in a noun phrase.[160] Adjectives Adjectives modify a noun by providing additional information about their referents. In English, adjectives come before the nouns they modify and after determiners.[161] In Modern English, adjectives are not inflected, and they do not agree in form with the noun they modify, as adjectives in most other Indo-European languages do. For example, in the phrases the slender boy, and many slender girls, the adjective slender does not change form to agree with either the number or gender of the noun. Some adjectives are inflected for degree of comparison, with the positive degree unmarked, the suffix -er marking the comparative, and -est marking the superlative: a small boy, the boy is smaller than the girl, that boy is the smallest. Some adjectives have irregular comparative and superlative forms, such as good, better, and best. Other adjectives have comparatives formed by periphrastic constructions, with the adverb more marking the comparative, and most marking the superlative: happier or more happy, the happiest or most happy.[162] There is some variation among speakers regarding which adjectives use inflected or periphrastic comparison, and some studies have shown a tendency for the periphrastic forms to become more common at the expense of the inflected form.[163] Pronouns, case and person English pronouns conserve many traits of case and gender inflection. The personal pronouns retain a difference between subjective and objective case in most persons (I/me, he/him, she/her, we/us, they/them) as well as a gender and animateness distinction in the third person singular (distinguishing he/she/it). The subjective case corresponds to the Old English nominative case, and the objective case is used both in the sense of the previous accusative case (in the role of patient, or direct object of a transitive verb), and in the sense of the Old English dative case (in the role of a recipient or indirect object of a transitive verb).[164][165] Subjective case is used when the pronoun is the subject of a finite clause, and otherwise the objective case is used.[166] While already grammarians such as Henry Sweet[167] and Otto Jespersen[168] noted that the English cases did not correspond to the traditional Latin based system, some contemporary grammars, for example Huddleston & Pullum (2002), retain traditional labels for the cases, calling them nominative and accusative cases respectively. Possessive pronouns exist in dependent and independent forms; the dependent form functions as a determiner specifying a noun (as in my chair), while the independent form can stand alone as if it were a noun (e.g. the chair is mine).[169] The English system of grammatical person no longer has a distinction between formal and informal pronouns of address, and the forms for 2nd person plural and singular are identical except in the reflexive form. Some dialects have introduced innovative 2nd person plural pronouns such as y'all found in Southern American English and African American (Vernacular) English or youse and ye found in Irish English. English personal pronouns Person Subjective case Objective case Dependent possessive Independent possessive Reflexive 1st p. sg. I me my mine myself 2nd o. sg. you you your yours yourself 3rd p. sg. he/she/it him/her/it his/her/its his/hers/its himself/herself/itself 1st p. pl. we us our ours ourselves 2nd p. pl. you you your yours yourselves 3rd p. pl they them their theirs themselves Pronouns are used to refer to entities deictically or anaphorically. A deictic pronoun points to some person or object by identifying it relative to the speech situation — for example the pronoun I identifies the speaker, and the pronoun you, the addressee. Anaphorical pronouns such as that refer back to an entity already mentioned or assumed by the speaker to be known by the audience, for example in the sentence I already told you that. The reflexive pronouns are used when the oblique argument is identical to the subject of a phrase (e.g. "he sent it to himself" or "she braced herself for impact").[170] Prepositions Prepositional phrases (PP) are phrases composed of a preposition and one or more nouns, e.g. with the dog, for my friend, to school, in England. Prepositions have a wide range of uses in English. They are used to describing movement, place, and other relations between different entities, but they also have many syntactic uses such as introducing complement clauses and oblique arguments of verbs. For example, in the phrase I gave it to him, the preposition to marks the recipient, or Indirect Object of the verb to give. Traditionally words were only considered prepositions if they governed the case of the noun they preceded, for example causing the pronouns to use the objective rather than subjective form, "with her", "to me", "for us". But some contemporary grammars such as Huddleston & Pullum (2002:598–600) no longer consider government and case to be defining for the class of prepositions, rather defining prepositions as words that can function as the heads of prepositional phrases. Verbs and verb phrases English verbs are inflected for tense and aspect, and marked for agreement with third person singular subject. Only the copula verb to be is still inflected for agreement with the plural and first and second person subjects.[162] Auxiliary verbs such as have and be are paired with verbs in the infinitive, past, or progressive forms. They form complex tenses, aspects, and moods. Auxiliary verbs differ from other verbs in that they can be followed by the negation, and in that they can occur as the first constituent in a question sentence.[171][172] Most verbs have six inflectional forms. The primary forms are a plain present, a third person singular present, and a preterit (past) form. The secondary forms are a plain form used for the infinitive, a gerund–participle and a past participle.[173] The copula verb to be s the only verb to retain some of its original conjugation, and takes different inflectional forms depending on the subject. The first person present tense form is am, the third person singular form is and the form are is used second person singular and all three plurals. The only verb past participle is been and its gerund-participle is being. English inflectional forms Inflection Strong Regular Plain present take love 3rd person sg. present takes loves Preterite took loved Plain (infinitive) take love Gerund–participle taking loving Past participle taken loved Tense, aspect and mood English has two primary tenses, past (preterit) and non-past. The preterit is inflected by using the preterit form of the verb, which for the regular verbs includes the suffix -ed, and for the strong verbs either the suffix -t or a change in the stem vowel. The non-past form is unmarked except in the third person singular, which takes the suffix -s.[171] Present Preterite First person I run I ran Third person John runs John ran English does not have a morphologised future tense.[174] Futurity of action is expressed periphrastically with one of the auxiliary verbs will or shall.[175] Many varieties also use a near future constructed with the phrasal verb be going to.[176] Future First person I will run Third person John will run Further aspectual distinctions are encoded by the use of auxiliary verbs, primarily have and be, which encode the contrast between a perfect and non-perfect past tense (I have run vs. I was running), and compound tenses such as preterite perfect (I had been running) and present perfect (I have been running).[177] For the expression of mood, English uses a number of modal auxiliaries, such as can, may, will, shall and the past tense forms could, might, would, should. There is also a subjunctive and an imperative mood, both based on the plain form of the verb (i.e. without the third person singular -s), and which is used in subordinate clauses (e.g. subjunctive: It is important that he run every day; imperative Run!).[175] An infinitive form, that uses the plain form of the verb and the preposition to, is used for verbal clauses that are syntactically subordinate to a finite verbal clause. Finite verbal clauses are those that are formed around a verb in the present or preterit form. In clauses with auxiliary verbs they are the finite verbs and the main verb is treated as a subordinate clause. For example, he has to go where only the auxiliary verb have is inflected for time and the main verb to go is in the infinitive, or in a complement clause such as I saw him leave, where the main verb is to see which is in a preterite form, and leave is in the infinitive. Phrasal verbs English also makes frequent use of constructions traditionally called phrasal verbs, verb phrases that are made up of a verb root and a preposition or particle which follows the verb. The phrase then functions as a single predicate. In terms of intonation the preposition is fused to the verb, but in writing it is written as a separate word. Examples of phrasal verbs are to get up, to ask out, to back up, to give up, to get together, to hang out, to put up with, etc. The phrasal verb frequently has a highly idiomatic meaning that is more specialised and restricted than what can be simply extrapolated from the combination of verb and preposition complement (e.g. lay off meaning terminate someone's employment).[178] In spite of the idiomatic meaning, some grammarians, including Huddleston & Pullum (2002):274, do not consider this type of construction to form a syntactic constituent and hence refrain from using the term "phrasal verb". Instead they consider the construction simply to be a verb with a prepositional phrase as its syntactic complement, i.e. he woke up in the morning and he ran up in the mountains are syntactically equivalent. Adverbs The function of adverbs is to modify the action or event described by the verb by providing additional information about the manner in which it occurs. Many adverbs are derived from adjectives with the suffix -ly, but not all, and many speakers tend to omit the suffix in the most commonly used adverbs. For example, in the phrase the woman walked quickly the adverb quickly derived from the adjective quick describes the woman's way of walking. Some commonly used adjectives have irregular adverbial forms, such as good which has the adverbial form well. Syntax In the English sentence The cat sat on the mat, the subject is the cat (a NP), the verb is sat, and on the mat is a prepositional phrase (composed of an NP the mat, and headed by the preposition on). The tree describes the structure of the sentence. Modern English syntax language is moderately analytic.[179] It has developed features such as modal verbs and word order as resources for conveying meaning. Auxiliary verbs mark constructions such as questions, negative polarity, the passive voice and progressive aspect. Basic constituent order English word order has moved from the Germanic verb-second (V2) word order to being almost exclusively subject–verb–object (SVO).[180] The combination of SVO order and use of auxiliary verbs often creates clusters of two or more verbs at the centre of the sentence, such as he had hoped to try to open it. In most sentences English only marks grammatical relations through word order.[181] The subject constituent precedes the verb and the object constituent follows it. The example below demonstrates how the grammatical roles of each constituent is marked only by the position relative to the verb: The dog bites the man S V O The man bites the dog S V O An exception is found in sentences where one of the constituents is a pronoun, in which case it is doubly marked, both by word order and by case inflection, where the subject pronoun precedes the verb and takes the subjective case form, and the object pronoun follows the verb and takes the objective case form. The example below demonstrates this double marking in a sentence where both object and subject is represented with a third person singular masculine pronoun: He hit him S V O Indirect objects (IO) of ditransitive verbs can be placed either as the first object in a double object construction (S V IO O), such as I gave Jane the book or in a prepositional phrase, such as I gave the book to Jane [182] Clause syntax Main article: English clause syntax In English a sentence may be composed of one or more clauses, that may in turn be composed of one or more phrases (e.g. Noun Phrases, Verb Phrases, and Prepositional Phrases). A clause is built around a verb, and includes its constituents, such as any NPs and PPs. Within a sentence one clause is always the main clause (or matrix clause) whereas other clauses are subordinate to it. Subordinate clauses may function as arguments of the verb in the main clause. For example, in the phrase I think (that) you are lying, the main clause is headed by the verb think, the subject is I, but the object of the phrase is the subordinate clause (that) you are lying. The subordinating conjunction that shows that the clause that follows is a subordinate clause, but it is often omitted.[183] Relative clauses are clauses that function as a modifier or specifier to some constituent in the main clause: For example, in the sentence I saw the letter that you received today, the relative clause that you received today specifies the meaning of the word letter, the object of the main clause. Relative clauses can be introduced by the pronouns who, whose, whom and which as well as by that (which can also be omitted.)[184] In contrast to many other Germanic languages there is no major differences between word order in main and subordinate clauses.[185] Auxiliary verb constructions Main articles: Do-support and Subject–auxiliary inversion English syntax relies on auxiliary verbs for many functions including the expression of tense, aspect and mood. Auxiliary verbs form main clauses, and the main verbs function as heads of a subordinate clause of the auxiliary verb. For example, in the sentence the dog did not find its bone, the clause find its bone is the complement of the negated verb did not. Subject–auxiliary inversion is used in many constructions, including focus, negation, and interrogative constructions. The verb do can be used as an auxiliary even in simple declarative sentences, where it usually serves to add emphasis, as in "I did shut the fridge." However, in the negated and inverted clauses referred to above, it is used because the rules of English syntax permit these constructions only when an auxiliary is present. Modern English does not allow the addition of the negating adverb not to an ordinary finite lexical verb, as in *I know not—it can only be added to an auxiliary (or copular) verb, hence if there is no other auxiliary present when negation is required, the auxiliary do is used, to produce a form like I do not (don't) know. The same applies in clauses requiring inversion, including most questions—inversion must involve the subject and an auxiliary verb, so it is not possible to say *Know you him?; grammatical rules require Do you know him?[186] Negation is done with the adverb not, which precedes the main verb and follows an auxiliary verb. A contracted form of not -n't can be used as an enclitic attaching to auxiliary verbs and to the copula verb to be. Just as with questions, many negative constructions require the negation to occur with do-support, thus in Modern English I don't know him is the correct answer to the question Do you know him?, but not *I know him not, although this construction may be found in older English.[187] Passive constructions also use auxiliary verbs. A passive construction rephrases an active construction in such a way that the object of the active phrase becomes the subject of the passive phrase, and the subject of the active phrase is either omitted or demoted to a role as an oblique argument introduced in a prepositional phrase. They are formed by using the past participle either with the auxiliary verb to be or to get, although not all varieties of English allow the use of passives with get. For example, putting the sentence she sees him into the passive becomes he is seen (by her), or he gets seen (by her).[188] Questions In English questions can be formed either with do-support (do you know her?) or with the interrogative pronouns (e.g. what, who, where, when, why). In most constructions interrogative pronouns occur in a fronted position before the subject-verb compound, regardless of their grammatical role in the sentence. For example, in the sentence what did you see, what refers to the grammatical object of the sentence but nonetheless occurs as the sentence's first constituent. Also prepositional phrases can be fronted when they are the question's theme, e.g. to whose house did you go last night?. The personal interrogative pronoun who is the only one of the interrogative pronouns to still show inflection for case, with the variant whom serving as the objective case form, although this form is no longer in use by many speakers. For those speaker who do use it, it distinguishes between questions where the theme of the question is the grammatical subject of the verb, from those where it is the object or another grammatical role that is being questioned. E.g. who saw you?, but whom did you see? Discourse level syntax At the discourse level English tends to use a topic-comment structure, where the known information (topic) precedes the new information (comment). Because of the strict SVO syntax, the topic of a sentence generally has to be the grammatical subject of the sentence. In cases where the topic is not the grammatical subject of the sentence, frequently the topic is promoted to subject position through syntactic means. One way of doing this is through a passive construction, the girl was stung by the bee. Another way is through a cleft sentence where the main clause is demoted to be a complement clause of a copula sentence with a dummy subject such as it or there, e.g. it was the girl that the bee stung, there was a girl who was stung by a bee.[189] Dummy subjects are also used in constructions where there is no grammatical subject such as with impersonal verbs (e.g., it is raining) or in existential clauses (there are many cars on the street). Through the use of these complex sentence constructions with informationally vacuous subjects, English is able to maintain both a topic comment sentence structure and a SVO syntax. Focus constructions emphasise a particular piece of new or salient information within a sentence, generally through allocating the main sentence level stress on the focal constituent. For example, the girl was stung by a bee (emphasising it was a bee and not for example a wasp that stung her), or The girl was stung by a bee (contrasting with another possibility, for example that it was the boy).[190] Topic and focus can also be established through syntactic dislocation, either preposing or postposing the item to be focused on relative to the main clause. For example, That girl over there, she was stung by a bee, emphasises the girl by preposition, but a similar effect could be achieved by postposition, she was stung by a bee, that girl over there, where reference to the girl is established as an "afterthought".[191] Cohesion between sentences is achieved through the use of deictic pronouns as anaphora (e.g. that is exactly what I mean where that refers to some fact known to both interlocutors, or then used to locate the time of a narrated event relative to the time of a previously narrated event).[192] Discourse markers such as oh, so or well, also signal the progression of ideas between sentences and help to create cohesion. Discourse markers are often the first constituents in sentences. Discourse markers are also used for stance taking in which speakers position themselves in a specific attitude towards what is being said, for example, no way is that true! (the idiomatic marker no way! expressing disbelief), or boy! I'm hungry (the marker boy expressing emphasis). While discourse markers are particularly characteristic of informal and spoken registers of English, they are also used in written and formal registers.[193] Vocabulary The vocabulary of English is vast, and counting exactly how many words English (or any language) has is impossible.[194][195][196] Early studies of English vocabulary by lexicographers, the scholars who formally study vocabulary, compile dictionaries, or both, were impeded by a lack of comprehensive data on actual vocabulary in use from good-quality linguistic corpora,[197] collections of actual written texts and spoken passages. Many statements published before the end of the 20th century about the growth of English vocabulary over time, the dates of first use of various words in English, and the sources of English vocabulary will have to be corrected as new computerised analysis of linguistic corpus data becomes available.[196][198] Word formation processes English forms new words from existing words or roots in its vocabulary through a variety of processes. One of the most productive processes in English is conversion,[199] using a word with a different grammatical role, for example using a noun as a verb or a verb as a noun. Another productive word-formation process is nominal compounding,[196][198] producing compound words such as babysitter or ice cream or homesick.[199] A process more common in Old English than in Modern English, but still productive in Modern English, is the use of derivational suffixes (-hood, -ness, -ing, -ility) to derive new words from existing words (especially those of Germanic origin) or stems (especially for words of Latin or Greek origin). Formation of new words, called neologisms, based on Greek or Latin roots (for example television or optometry) is a highly productive process in English and in most modern European languages, so much so that it is often difficult to determine in which language a neologism originated. For this reason, lexicographer Philip Gove attributed many such words to the "international scientific vocabulary" (ISV) when compiling Webster's Third New International Dictionary (1961). Another active word-formation process in English is acronyms,[200] words formed by pronouncing as a single word abbreviations of longer phrases (e.g. NATO, laser). Word origins Main article: Lists of English loanwords by country or language of origin English, besides forming new words from existing words and their roots, also borrows words from other languages. This process of adding words from other languages is commonplace in many world languages, but English is characterised as being especially open to borrowing of foreign words throughout the last 1,000 years.[201] The most commonly used words in English are West Germanic.[202] The words in English learned first by children as they learn to speak, particularly the grammatical words that dominate the word count of both spoken and written texts, are the Germanic words inherited from the earliest periods of the development of Old English.[196] But one of the consequences of long language contact between French and English in all stages of their development is that the vocabulary of English has a very high percentage of "Latinate" words (derived from French, especially, and also from Latin or from other Romance languages).[203] French words from various periods of the development of French now make up one-third of the vocabulary of English.[204] English has also borrowed many words directly from Latin, the ancestor of the Romance languages, during all stages of its development.[198][196] Many of the words borrowed into English from Latin were earlier borrowed into Latin from Greek. Latin or Greek are still highly productive sources of stems used to form vocabulary of subjects learned in higher education such as the sciences, philosophy, and mathematics.[205] English continues to gain new loanwords and calques ("loan translations") from languages all over the world, and words from languages other than the ancestral Anglo-Saxon language make up about 60 percent of the vocabulary of English.[206] English has formal and informal speech registers, and informal registers, including child directed speech, tend to be made up predominantly of words of Anglo-Saxon origin, while the percentage of vocabulary that is of Latinate origin is higher in legal, scientific, and academic texts.[207][208] English loanwords and calques in other languages English has a strong influence on the vocabulary of other languages.[204][209] The influence of English comes from such factors as opinion leaders in other countries knowing the English language, the role of English as a world lingua franca, and the large number of books and films that are translated from English into other languages.[210] That pervasive use of English leads to a conclusion in many places that English is an especially suitable language for expressing new ideas or describing new technologies. Among varieties of English, it is especially American English that influences other languages.[211] Some languages, such as Chinese, write words borrowed from English mostly as calques, while others, such as Japanese, readily take in English loanwords written in sound-indicating script.[212] Dubbed films and television programmes are an especially fruitful source of English influence on languages in Europe.[212] Writing system See also: English alphabet, English braille and English orthography Since the ninth century, English has been written in a Latin alphabet (also called Roman alphabet). Earlier Old English texts in Anglo-Saxon runes are only short inscriptions. The great majority of literary works in Old English that survive to today are written in the Roman alphabet.[28] The modern English alphabet contains 26 letters of the Latin script: a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u, v, w, x, y, z (which also have capital forms: A, B, C, D, E, F, G, H, I, J, K, L, M, N, O, P, Q, R, S, T, U, V, W, X, Y, Z). The spelling system, or orthography, of English is multi-layered, with elements of French, Latin, and Greek spelling on top of the native Germanic system.[213] Further complications have arisen through sound changes with which the orthography has not kept pace.[40] Compared to European languages for which official organisations have promoted spelling reforms, English has spelling that is a less consistent indicator of pronunciation and standard spellings of words that are more difficult to guess from knowing how a word is pronounced.[214] There are also systematic spelling differences between British and American English. These situations have prompted proposals for spelling reform in English.[215] Although letters and speech sounds do not have a one-to-one correspondence in standard English spelling, spelling rules that take into account syllable structure, phonetic changes in derived words, and word accent are reliable for most English words.[216] Moreover, standard English spelling shows etymological relationships between related words that would be obscured by a closer correspondence between pronunciation and spelling, for example the words photograph, photography, and photographic,[216] or the words electricity and electrical. While few scholars agree with Chomsky and Halle (1968) that conventional English orthography is "near-optimal",[213] there is a rationale for current English spelling patterns.[217] The standard orthography of English is the most widely used writing system in the world.[218] Standard English spelling is based on a graphomorphemic segmentation of words into written clues of what meaningful units make up each word.[219] Readers of English can generally rely on the correspondence between spelling and pronunciation to be fairly regular for letters or digraphs used to spell consonant sounds. The letters b, d, f, h, j, k, l, m, n, p, r, s, t, v, w, y, z represent, respectively, the phonemes /b, d, f, h, dʒ, k, l, m, n, p, r, s, t, v, w, j, z/. The letters c and g normally represent /k/ and /ɡ/, but there is also a soft c pronounced /s/, and a soft g pronounced /dʒ/. The differences in the pronunciations of the letters c and g are often signalled by the following letters in standard English spelling. Digraphs used to represent phonemes and phoneme sequences include ch for /tʃ/, sh for /ʃ/, th for /θ/ or /ð/, ng for /ŋ/, qu for /kw/, and ph for /f/ in Greek-derived words. The single letter x is generally pronounced as /z/ in word-initial position and as /ks/ otherwise. There are exceptions to these generalisations, often the result of loanwords being spelled according to the spelling patterns of their languages of origin[216] or proposals by pedantic scholars in the early period of Modern English to mistakenly follow the spelling patterns of Latin for English words of Germanic origin.[220] For the vowel sounds of the English language, however, correspondences between spelling and pronunciation are more irregular. There are many more vowel phonemes in English than there are vowel letters (a, e, i, o, u, w, y). As a result of a smaller set of single letter symbols than the set of vowel phonemes, some "long vowels" are often indicated by combinations of letters (like the oa in boat, the ow in how, and the ay in stay), or the historically based silent e (as in note and cake).[217] The consequence of this complex orthographic history is that learning to read can be challenging in English. It can take longer for school pupils to become independently fluent readers of English than of many other languages, including Italian, Spanish, or German.[221] Nonetheless, there is an advantage for learners of English reading in learning the specific sound-symbol regularities that occur in the standard English spellings of commonly used words.[216] Such instruction greatly reduces the risk of children experiencing reading difficulties in English.[222][223] Making primary school teachers more aware of the primacy of morpheme representation in English may help learners learn more efficiently to read and write English.[224] English writing also includes a system of punctuation that is similar to the system of punctuation marks used in most alphabetic languages around the world. The purpose of punctuation is to mark meaningful grammatical relationships in sentences to aid readers in understanding a text and to indicate features important for reading a text aloud.[225] Dialects, accents, and varieties Main articles: List of dialects of the English language, World Englishes and regional accents of English Dialectologists distinguish between English dialects, regional varieties that differ from each other in terms of grammar and vocabulary, and regional accents, distinguished by different patterns of pronunciation. The major native dialects of English are often divided by linguists into the two general categories of the British dialects (BrE) and those of North America (AmE).[226] UK and Ireland See also: English language in England, Northern England English, Scots language, Scottish English, Welsh English, Estuary English, Ulster English and Hiberno-English Map showing the main dialect regions in the UK and Ireland As the place where English first evolved, the British Isles, and particularly England, are home to the most variegated pattern of dialects. Within the United Kingdom, the Received Pronunciation (RP), an educated dialect of South East England, is traditionally used as the broadcast standard, and is considered the most prestigious of the British dialects. The spread of RP (also known as BBC English) through the media has caused many traditional dialects of rural England to recede, as youths adopt the traits of the prestige variety instead of traits from local dialects. At the time of the Survey of English Dialects, grammar and vocabulary differed across the country, but a process of lexical attrition has led most of this variation to disappear.[227] Nonetheless this attrition has mostly affected dialectal variation in grammar and vocabulary, and in fact only 3 percent of the English population actually speak RP, the remainder speaking regional accents and dialects with varying degrees of RP influence.[228] There is also variability within RP, particularly along class lines between Upper and Middle class RP speakers and between native RP speakers and speakers who adopt RP later in life.[229] Within Britain there is also considerable variation along lines of social class, and some traits though exceedingly common are considered "non-standard" and are associated with lower class speakers and identities. An example of this is aitch-dropping, which was historically a feature of lower class London English, particularly Cockney, but which today is the standard in all major English cities—yet it remains largely absent in broadcasting and among the upper crust of British society.[230] Speech example MENU0:00 An example of an Essex male with a working-class Estuary accent (entertainer Russell Brand) Problems playing this file? See media help. English in England can be divided into four major dialect regions, Southwest English, South East English, Midlands English, and Northern English. Within each of these regions several local subdialects exist: Within the Northern region, there is a division between the Yorkshire dialects, and the Geordie dialect spoken in Northumbria around Newcastle, and the Lancashire dialects with local urban dialects in Liverpool (Scouse) and Manchester (Mancunian). Having been the centre of Danish occupation during the Viking Invasions, Northern English dialects, particularly the Yorkshire dialect, retain Norse features not found in other English varieties.[231] Since the 15th century, Southeastern varieties centred around London, which has been the centre from which dialectal innovations have spread to other dialects. In London, the Cockney dialect was traditionally used by the lower classes, and it was long a socially stigmatised variety. Today a large area of Southeastern England has adopted traits from Cockney, resulting in the so-called Estuary English which spread in areas south and East of London beginning in the 1980s. Estuary English is distinguished by traits such as the use of intrusive R (drawing is pronounced drawring /ˈdrɔːrɪŋ/), t-glottalisation (Potter is pronounced with a glottal stop as Po'er /poʔʌ/), and the pronunciation of th- as /f/ (thanks pronounced fanks) or /v/ (bother pronounced bover). [232] Speech example MENU0:00 An example of a Scottish male with a middle-class Renfrewshire accent Problems playing this file? See media help. Scots is today considered a separate language from English, but it has its origins in early Northern Middle English[233] and developed and changed during its history with influence from other sources, particularly Scots Gaelic and Old Norse. Scots itself has a number of regional dialects. And in addition to Scots, Scottish English are the varieties of Standard English spoken in Scotland, most varieties are Northern English accents, with some influence from Scots.[234] In Ireland, various forms of English have been spoken since the Norman invasions of the 11th century. In County Wexford, in the area surrounding Dublin, two highly conservative dialects known as Forth and Bargy and Fingallian developed as offshoots from Early Middle English, and were spoken until the 19th century. Modern Hiberno-English however has its roots in English colonisation in the 17th century. Today Irish English is divided into Ulster English, a dialect with strong influence from Scots, and southern Hiberno-English. Like Scots and Northern English, the Irish accents preserve the rhoticity which has been lost in most dialects influenced by RP.[15][235] North America Main articles: American English, General American, African American Vernacular English, Southern American English and Canadian English The Atlas of North American English found over 50% non-rhoticity in at least one local white speaker in each American metropolitan area designated here by a red dot. Non-rhotic African American Vernacular English pronunciations may be found among African Americans regardless of region. Early authors regarded American English as highly homogeneous.[citation needed] Today, American dialect variation is increasing, though most Americans still speak within a phonological continuum of similar accents,[236] known collectively as General American (GA), with its differing dialects hardly noticed even among Americans themselves (such as Midland and Western American English).[237][238][239] Separate from GA are American dialects with clearly distinct sound systems; this historically includes Southern American English, English of the coastal Northeast (famously including Eastern New England English and New York City English), and African American Vernacular English. Canadian English, except for the Maritime provinces, may be classified under GA as well, but it often shows unique vowel raising, as well as distinct norms for written and pronunciation standards.[240] In GA and Canadian English, rhoticity (or r-fulness) is dominant, with non-rhoticity (r-dropping) becoming associated with lower prestige and social class especially after World War II, despite non-rhoticity's rising regularity and dominance in England.[241] In Southern American English, the largest American "accent group" outside of GA,[242] rhoticity now prevails, replacing the region's historical non-rhotic prestige,[243] though social variation may still apply.[244][245] Southern accents are often colloquially described as a "drawl" or "twang,"[246] being recognised most readily by the Southern Vowel Shift that begins with glide-deleting in the /aɪ/ vowel (e.g. pronouncing spy almost like spa), the "Southern breaking" of several front pure vowels into a gliding vowel or even two syllables (e.g. pronouncing the word "press" almost like "pray-us"),[247] the pin–pen merger, and other distinctive features, many of which are actually recent developments of the 19th century or later.[248] Today spoken primarily by working- and middle-class African Americans, African American Vernacular English (AAVE) is also largely non-rhotic and likely originated among enslaved Africans and African Americans influenced primarily by the non-rhotic, non-standard English spoken by whites in the Old South. A minority of linguists,[249] contrarily, propose that AAVE mostly traces back to African languages spoken by the slaves who had to develop a pidgin or Creole English to communicate with slaves of other ethnic and linguistic origins.[250] After abolition, most African Americans settled in the inner cities of the North and here AAVE developed to a highly coherent and homogeneous variety. AAVE has often been stigmatised as a form of "broken" or "uneducated" English, as modern Southern American English also often is, but linguists today recognise both as fully developed varieties of English with their own norms shared by a large speech community.[251][252] Australia and New Zealand Main articles: Australian English and New Zealand English Since 1788 English has been spoken in Oceania, and the major native dialect of Australian English is spoken as a first language by the vast majority of the inhabitants of the Australian continent, with General Australian serving as the standard accent. The English of neighbouring New Zealand has to a lesser degree become an influential standard variety of the language.[253] Australian and New Zealand English are most closely related to British English, and both have similarly non-rhotic accents, aside from some accents in the South Island of New Zealand. They stand out, however, for their innovative vowels: many short vowels are fronted or raised, whereas many long vowels have diphthongised. Australian English also has a contrast between long and short vowels, not found in most other varieties. Australian English grammar differs from British English only in few instances, one difference is the lack of verbal concord with collective plural subjects.[254][255] New Zealand English differs little from Australian English, but a few characteristics sets its accent apart, such as the use of [ʍ] for wh- and its front vowels being even closer than in Australian English.[256][257][258] Africa, the Caribbean, and South Asia See also: South African English and Caribbean English English is spoken widely in South Africa and is an official or co-official language in several countries. In South Africa, English has been spoken since 1820, co-existing with Afrikaans and various African languages such as the Khoe and Bantu languages. Today about 9 percent of the South African population speak South African English (SAE) as a first language. SAE is a non-rhotic variety, which tends to follow RP as a norm. It is alone among non-rhotic varieties in lacking intrusive r. There are different L2 varieties that differ based on the native language of the speakers.[259] Most phonological differences from RP are in the vowels.[260] Consonant differences include the tendency to pronounce /p, t, t͡ʃ, k/ without aspiration (e.g. /pin/ pronounced [pɪn] rather than as [pʰɪn] as in most other varieties), while r is often pronounced as a flap [ɾ] instead of as the more common fricative.[261] Several varieties of English are also spoken in the Caribbean Islands that were colonial possessions of Britain, including Jamaica, and the Leeward and Windward Islands and Trinidad and Tobago, Barbados, the Cayman Islands, and Belize. Each of these areas are home both to a local variety of English and a local English based creole, combining English and African languages. The most prominent varieties are Jamaican English and Jamaican Creole. In Central America, English based creoles are spoken in on the Caribbean coasts of Nicaragua and Panama. [262] Locals are often fluent both in the local English variety and the local creole languages and code-switching between them is frequent, indeed another way to conceptualise the relationship between Creole and Standard varieties is to see a spectrum of social registers with the Creole forms serving as "basilect" and the more RP-like forms serving as the "acrolect", the most formal register.[263] Most Caribbean varieties are based on British English and consequently most are non-rhotic, except for formal styles of Jamaican English which are often rhotic. Jamaican English differs from RP in its vowel inventory, which has a distinction between long and short vowels rather than tense and lax vowels as in Standard English. The diphthongs /ei/ and /ou/ are monophthongs [eː] and [oː] or even the reverse diphthongs [ie] and [uo] (e.g. bay and boat pronounced [bʲeː] and [bʷoːt]). Often word final consonant clusters are simplified so that "child" is pronounced [t͡ʃail] and "wind" [win].[264][265][266] As a historical legacy, Indian English tends to take RP as its ideal, and how well this ideal is realised in an individual's speech reflects class distinctions among Indian English speakers. Indian English accents are marked by the pronunciation of phonemes such as /t/ and /d/ (often pronounced with retroflex articulation as [ʈ] and [ɖ]) and the replacement of /θ/ and /ð/ with dentals [t̪] and [d̪]. Sometimes Indian English speakers may also use spelling based pronunciations where the silent <h> found in words such as ghost is pronounced as an Indian voiced aspirated stop [gʱ].[267]
# '''

letterString = 'qwertyuiopasdfghjkl^zxcvbnm '

def distance(p0, p1):#simple distance formula
	return math.sqrt((p0[0] - p1[0])**2 + (p0[1] - p1[1])**2)

def createNKeyboards(n):#generates n keyboards in the form of scrambled letterString
	returnList = []
	for i in range(n):
		returnList.append(''.join(random.sample(letterString,len(letterString))))
	return returnList

def processText(myInput):#removes symbols and changes capitals into lowercase letters prepended with ^. could be improved with exceptions
	firstMarker = 0
	stringList = []
	for i in range(0,len(myInput)):
		# print 'were on', myInput[i]
		if myInput[i].isalpha() or myInput[i]==' ':
			# print 'its a letter'
			if myInput[i].isupper():
				stringList.append(myInput[firstMarker:-(len(myInput)-i)])
				stringList.append('^{0}'.format(myInput[i].lower()))
				firstMarker = i+1
		else:
			# print 'symbol detected, text so far:'
			stringList.append(myInput[firstMarker:-(len(myInput)-i)])
			firstMarker = i+1
	# print 'state before last', stringList
	stringList.append(myInput[firstMarker:len(myInput)])
	return ''.join(stringList)

def stringFitnesses(inputText, keyboardStrings):#returns the list of fitnesses of a list of keyboards
	coordinates = [[0,3],[1,3],[2,3],[3,3],[4,3],[5,3],[6,3],[7,3],[8,3],[9,3],
	[0.5,2],[1.5,2],[2.5,2],[3.5,2],[4.5,2],[5.5,2],[6.5,2],[7.5,2],[8.5,2],
	[0,0],[1.5,1],[2.5,1],[3.5,1],[4.5,1],[5.5,1],[6.5,1],[7.5,1],
	[5.5,0]]
	sameLetterCost = 0
	totalTransitions = len(inputText)
	distanceMatrix = numpy.zeros(shape=(len(letterString),len(letterString)))
	for i in range(len(coordinates)):
		for j in range(len(coordinates)):
			distanceMatrix[i][j] = distance(coordinates[i],coordinates[j])
			distanceMatrix[j][i] = distanceMatrix[i][j]
	leftOnly = [0,1,2,3,4,10,11,12,13,19,20,21,22]#qwerasdfzxcv
	rightOnly = [5,6,7,8,9,15,16,17,18,24,25,26,27]#yuiophjklbn m

	returnList = []
	for individualKeyboard in keyboardStrings:
		letterNum = {}
		for i in range(len(letterString)):
			letterNum[individualKeyboard[i]] = i
		totalDistance = 0
		leftPosition = 13
		rightPosition = 16
		for letter in inputText:
			if letterNum[letter] == leftPosition or letterNum[letter] == rightPosition:
				totalDistance += sameLetterCost
			elif letterNum[letter] != leftPosition and letterNum[letter] != rightPosition:
				if letterNum[letter] in rightOnly:
					totalDistance += distanceMatrix[rightPosition, letterNum[letter]]
					rightPosition = letterNum[letter]
				elif letterNum[letter] in leftOnly:
					totalDistance += distanceMatrix[leftPosition, letterNum[letter]]
					leftPosition = letterNum[letter]
				else:
					if distanceMatrix[rightPosition, letterNum[letter]] <= distanceMatrix[leftPosition, letterNum[letter]]:
						totalDistance += distanceMatrix[rightPosition, letterNum[letter]]
						rightPosition = letterNum[letter]
					else:
						totalDistance += distanceMatrix[leftPosition, letterNum[letter]]
						leftPosition = letterNum[letter]
		returnList.append((totalDistance/totalTransitions))
	return returnList

def mutateKeyboards(keyboardList, mutationPercent, swapNumber):
	returnList = []
	for i in keyboardList:
		if random.uniform(0,100) <= mutationPercent:
			lst = list(i)
			for l in range(swapNumber):
				indices = random.sample(range(0, len(i)), 2)
				j = indices[0]
				k = indices[1]
				lst[j], lst[k] = lst[k], lst[j]
			lst = (''.join(lst))
			returnList.append(lst)
		else:
			returnList.append(i)
	return returnList

def singlePointCrossover(parent1, parent2):
	crossoverPoint = random.randint(0,len(parent1)-1)
	newKeyboard = parent1[:crossoverPoint]
	addLetters = []
	for i in parent2:
		if i not in newKeyboard:
			addLetters.append(i)
	newKeyboard = newKeyboard + ''.join(addLetters)
	return newKeyboard

def simpleRouletteSelection(fitness_list):
	invertedList = [1/i for i in fitness_list]
	max = sum(invertedList)
	pick = random.uniform(0,max)
	currentValue = 0
	index = 0
	for i in invertedList:
		currentValue += i
		if currentValue > pick:
			break
		index+=1
	return fitness_list[index]

def simpleGeneticAlgorithm(keyboard_list, fitness_list, elite_num, death_percent):
	returnList = []
	while len(returnList) < len(keyboard_list)-elite_num:
		while True:
			parent1 = keyboard_list[fitness_list.index(simpleRouletteSelection(fitness_list))]
			parent2 = keyboard_list[fitness_list.index(simpleRouletteSelection(fitness_list))]
			child = singlePointCrossover(parent1,parent2)

			returnList.append(child)
			break

			# if stringFitnesses(theInput, [child])[0] < sum(stringFitnesses(theInput, [parent1,parent2]))/2:
			# 	returnList.append(child)
			# 	break
			# else:
			# 	if random.uniform(0,100) >= death_percent:
			# 		returnList.append(child)
			# 		break

	# returnList = mutateKeyboards(returnList, 40, 3)
	returnList = mutateKeyboards(returnList, 2, 1)
	fitness_list.sort()
	for i in fitness_list[:elite_num]:
		returnList.append(keyboard_list[fitness_list.index(i)])
	return returnList

#this function must be broken, unique keyboard number is as low as 5 sometimes
def diversify(threshold, keyboard_list):#if a keyboard occurs more than (threshold) times, mutate all but 1 of them.
	count = Counter(keyboard_list)
	returnList = list(keyboard_list)
	for i in count.most_common():
		if i[1] >= threshold:
			returnList[:] = [x for x in returnList if x != i[0]]
			for j in range(i[1]-1):
				newKeyboard = mutateKeyboards([i[0]], 100, 1)[0]
				returnList.append(newKeyboard)
			returnList.append(i[0])
	return returnList

def gradientDescent():#should add a method to input something and see if any switch will make it better
	possSwaps = list(itertools.combinations(range(len(letterString)), 2))
	random.shuffle(possSwaps)
	keyboard = createNKeyboards(1)[0]
	# previousBest = stringFitnesses(theInput, [keyboard])[0]
	previousBest = frequencyFitness(keyboard)
	i = 0
	while i < len(letterString):
		lst = list(keyboard)
		indices = possSwaps[i]
		j = indices[0]
		k = indices[1]
		lst[j], lst[k] = lst[k], lst[j]
		lst = (''.join(lst))
		# if stringFitnesses(theInput, [lst])[0] < previousBest:
		# 	previousBest = stringFitnesses(theInput, [lst])[0]
		if frequencyFitness(lst) < previousBest:
			previousBest = frequencyFitness(lst)
			keyboard = lst
			i = 0
			random.shuffle(possSwaps)
		else:
			lst = list(lst)
			lst[j], lst[k] = lst[k], lst[j]
			keyboard = (''.join(lst))
			i+=1
	return keyboard

def main():
	if len(sys.argv) != 3:
		sys.exit('Usage: ' + sys.argv[0] + ' [numKeyboards] [numGenerations]')
	numKeyboards = int(sys.argv[1])
	if sys.argv[2] == 'inf':
		numGenerations = float('inf')
	else:
		numGenerations = int(sys.argv[2])

	newPopulation= createNKeyboards(numKeyboards)
	# newPopulation = [gradientDescent() for i in range(50)]
	i = 0
	bestScore = float('inf')
	bestKeyboard = ''

	printList = ["#", "Avg. Fitness", "Min. Fitness", "Min. Fitness Keyboard", "Best Score", "Best Keyboard", "Most Common (Keyboard, Occurences)"]
	# 15 spaces for scores, 30 for keyboard strings
	rowFormat ="{:<5}" + "{:<15}"*2 + "{:<30}" + "{:<15}" + "{:<30}"*2
	print rowFormat.format(*printList)
	while True:
		if i == numGenerations:
			print("--- %s seconds ---" % (time.time() - start_time))
			break
		# fitnesses = stringFitnesses(theInput, newPopulation)
		fitnesses = [frequencyFitness(keyboard) for keyboard in newPopulation]
		avg = sum(fitnesses)/len(fitnesses)
		minIndex = fitnesses.index(min(fitnesses))

		if min(fitnesses) < bestScore:
			bestScore = min(fitnesses)
			bestKeyboard = str(newPopulation[minIndex])
		count = Counter(newPopulation)
		if i % 100 == 0:
			print rowFormat.format(i, avg, min(fitnesses), newPopulation[minIndex], bestScore, bestKeyboard, count.most_common()[0]), len(count.most_common())

		newPopulation = simpleGeneticAlgorithm(newPopulation, fitnesses, 1, death_percent=80)
		newPopulation = diversify(4, newPopulation)

		i += 1
	print newPopulation[0]

def frequencyFitness(keyboard):
	fitness_score = 0
	# a	b	c	d	e	f	g	h	i	j	k	l	m
	# 8.2	1.5	2.8	4.3	12.7	2.2	2.0	6.1	7.0	0.2	0.8	4.0	2.4
	# n	o	p	q	r	s	t	u	v	w	x	y	z
	# 6.7	7.5	1.9	0.1	6.0	6.3	9.1	2.8	1.0	2.4	0.2	2.0	0.1
	coordinates = [[0,3],[1,3],[2,3],[3,3],[4,3],[5,3],[6,3],[7,3],[8,3],[9,3],
	[0.5,2],[1.5,2],[2.5,2],[3.5,2],[4.5,2],[5.5,2],[6.5,2],[7.5,2],[8.5,2],
	[0,0],[1.5,1],[2.5,1],[3.5,1],[4.5,1],[5.5,1],[6.5,1],[7.5,1],
	[5.5,0]]
	# freq_dict = {'a':8.2,'b':1.5, 'c':2.8, 'd':4.3, 'e':12.7,'f':2.2,'g':2.0,'h':6.1,'i':7.0,'j':0.2,'k':0.8,'l':4.0,'m':2.4,
	# 'n':6.7,'o':7.5,'p':1.9,'q':0.1,'r':6.0,'s':6.3,'t':9.1,'u':2.8,'v':1.0,'w':2.4,'x':0.2,'y':2.0,'z':0.1, '^':2.8,' ':13.6}
	
	freq_dict = {'a':8.50357834949,'b':1.58827987693,'c':3.35831867318,'d':3.8332505962,'e':12.0854920097,'f':2.1435268052,'g':1.99366445597,
'h':4.72281799311,'i':7.28576061687,'j':0.221705546931,'k':0.778118038872,'l':4.07968142936,'m':2.64836003734,'n':7.27089968004,
'o':7.41507990637,'p':2.14681185439,'q':0.101035966795,'r':6.57070724088,'s':6.88783871261,'t':8.94593736877,'u':2.56241658647,
'v':1.04965603373,'w':1.72204517838,'x':0.201144083561,'y':1.77340052726,'z':0.110472431636, ' ':22.2596873, '^':5.41006961}

	# x = 0
	# for i in freq_dict:
	# 	x += freq_dict[i]
	# print x

	for i in keyboard:
		left_distance = distance(coordinates[12],coordinates[keyboard.index(i)])
		right_distance = distance(coordinates[16],coordinates[keyboard.index(i)])
		fitness_score += min(left_distance,right_distance)*freq_dict[i]

	bigrams = {'th': 1.52,'en': 0.55,'ng': 0.18,'he':1.28,'ed':0.53,'of':0.16,'in':0.94,'to':0.52,'al':0.09,'er':0.94,'it': 0.50,'de':0.09,
	 'an':0.82,'ou':0.50,'se': 0.08,'re': 0.68,'ea': 0.47,'le': 0.08,'nd': 0.63,'hi': 0.46,'sa': 0.06,'at': 0.59,'is': 0.46,'si': 0.05,
	 'on': 0.57,'or': 0.43,'ar': 0.04,'nt': 0.56,'ti': 0.34,'ve': 0.04,'ha': 0.56,'as': 0.33,'ra': 0.04,'es': 0.56,'te': 0.27,'ld': 0.02,'st': 0.55,'et': 0.19,'ur': 0.02}
	leftOnly = [0,1,2,3,4,10,11,12,13,19,20,21,22]#qwerasdfzxcv
	rightOnly = [5,6,7,8,9,15,16,17,18,24,25,26,27]#yuiophjklbn m
	for bigram in bigrams:
		left_position = 12
		right_position = 16
		for i in bigram:
		 	if keyboard.index(i) in leftOnly:
		 		fitness_score += distance(coordinates[12],coordinates[keyboard.index(i)])
		 		left_position = keyboard.index(i)
		 	elif keyboard.index(i) in rightOnly:
		 		right_distance = distance(coordinates[16],coordinates[keyboard.index(i)])
		 		right_position = keyboard.index(i)
		 	else:
		 		left_distance = distance(coordinates[left_position],coordinates[keyboard.index(i)])
				right_distance = distance(coordinates[right_position],coordinates[keyboard.index(i)])
				if left_distance < right_distance:
					left_position = keyboard.index(i)
					fitness_score += left_distance
				else:
					right_position = keyboard.index(i)
					fitness_score += right_distance

	return fitness_score

if __name__ == '__main__':
	theInput = processText(theInput)


	# min2 = 'qforbvlwkx^teuya hjzingpdscm'
	# # print frequencyFitness(min2)
	# print frequencyFitness('zpl^wyshgqvo rmieakxctdbfnuj')
	# print frequencyFitness('qwertyuiopasdfghjkl^zxcvbnm ')

	# print ''
	# # print stringFitnesses(theInput, ['qysrufhdwjvnaebo igxmtpzc^lk'])[0]
	# print stringFitnesses(theInput, ['zpl^wyshgqvo rmieakxctdbfnuj'])[0]
	# print stringFitnesses(theInput, ['qwertyuiopasdfghjkl^zxcvbnm '])[0]


	# random_keyboards = createNKeyboards(50)
	# print random_keyboards
	# x = [frequencyFitness(keyboard) for keyboard in random_keyboards]
	# print x
	# print ''
	# seq = sorted(x)
	# index = [seq.index(v) for v in x]
	# print index

	# x = [stringFitnesses(theInput, [keyboard])[0] for keyboard in random_keyboards]
	# print x
	# print ''
	# seq = sorted(x)
	# index2 = [seq.index(v) for v in x]
	# print index2

	# total_difference = 0
	# for i in range(50):
	# 	total_difference += abs(index[i]-index2[i])
	# print total_difference/50






	# letters = collections.Counter(theInput)
	# for i in letters:
	# 	letters[i] = letters[i]/32.59
	# print letters
	# print len(theInput)


	main()
# 

	# for i in range(100):
	# 	x = gradientDescent()
	# 	if frequencyFitness(x) < 115:
	# 		print x, frequencyFitness(x)

	
	# print stringFitnesses(theInput, [min2])[0]





# x = [
# 'A', 280937 ,5263779, 
# 'B', 169474 ,866156, 
# 'C', 229363 ,1960412, 
# 'D', 129632 ,2369820, 
# 'E', 138443 ,7741842, 
# 'F', 100751, 1296925, 
# 'G', 93212 ,1206747,
# 'H', 123632 ,2955858 ,
# 'I', 223312 ,4527332,
# 'J', 78706 ,65856 ,
# 'K', 46580 ,460788 ,
# 'L', 106984 ,2553152,
# 'M', 259474 ,1467376,
# 'N', 205409 ,4535545 ,
# 'O', 105700 ,4729266 ,
# 'P', 144239 ,1255579 ,
# 'Q', 11659 ,54221,
# 'R', 146448 ,4137949 ,
# 'S', 304971 ,4186210,
# 'T', 325462 ,5507692 ,
# 'U', 57488 ,1613323,
# 'V', 31053 ,653370,
# 'W', 107195 ,1015656 ,
# 'X', 7578 ,123577,
# 'Y', 94297 ,1062040 ,
# 'Z', 5610, 66423]
# first = 1
# second = 2
# lower_total = 0
# upper_total = 0
# while second <= len(x):
# 	# print 'first', x[first], 'second', x[second]
# 	upper_total += x[first]
# 	lower_total += x[second]
# 	# print "'" + str(x[first].lower()) + "'" + ':' + str(x[second]/652045.03) + ','
# 	first += 3
# 	second += 3

# print upper_total
# print lower_total

# # total = 65204503/3527609